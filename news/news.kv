#:import MDNavigationDrawer kivymd.uix.navigationdrawer
#:import MDList kivymd.uix.list
#:import MDLabel kivymd.uix.label
#:import MDSeparator kivymd.uix.card
#:import MDTextButton kivymd.uix.button
#:import MDRaisedButton kivymd.uix.button
#:import MDRoundFlatButton kivymd.uix.button
#:import MDDialog kivymd.uix.dialog
#:import Popup kivy.uix.popup


<NewsPopup>
    auto_dismiss: False
    background: '/data/pics/white.png'
    title_color: (0, 0, 0, 1)
    size_hint: (.8, .8)

    BoxLayout:

        MDLabel:
            id: popup_label

        MDRaisedButton:
            text: 'Назад'
            on_press: root.dismiss()


<NewsCard>
    orientation: "vertical"
    size_hint_y: None
    spacing: "10dp"

    Image:
        id: news_image

    MDSeparator:
        height: "1dp"

    MDLabel:
        id: news_title
        theme_text_color: "Primary"
        size_hint_y: None
        padding: [0, 15]

    MDSeparator:
        height: "1dp"

    MDLabel:
        id: news_text
        padding: [0, 15]
        size_hint_y: None

    MDSeparator:
        id: bottom_sep
        height: "1dp"

    BoxLayout:
        id: buttons_box
        orientation: 'horizontal'
        spacing: "20dp"
        size_hint_y: None

        MDRoundFlatButton:
            id: news_show_all_button
            text: "Открыть"
            padding: [0, 0, 20, 0]
            on_press: root.show_full()

        MDRoundFlatButton:
            id: news_sub_button
            text: "Записаться"


<NewsScreen>:
    sidebar: None

    BoxLayout:
        orientation: 'vertical'

        MDToolbar:
            title: "Новости"
            pos_hint: {"top": 1}
            elevation: 10
            left_action_items: [['menu', lambda x: root.sidebar.ids.nav_drawer.set_state('toggle')]]

        ScrollView:
            size_hint: 1, 1
            do_scroll_x: False

            MDList:
                id: news_grid
                cols: 1
                spacing: dp(5)
                padding: dp(5)
                size_hint_y: None
                height: self.minimum_height


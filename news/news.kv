#:import MDNavigationDrawer kivymd.uix.navigationdrawer
#:import MDList kivymd.uix.list
#:import MDLabel kivymd.uix.label
#:import MDSeparator kivymd.uix.card
#:import MDTextButton kivymd.uix.button
#:import MDRaisedButton kivymd.uix.button
#:import MDRoundFlatButton kivymd.uix.button
#:import MDDialog kivymd.uix.dialog
#:import Popup kivy.uix.popup


<ArticleScreen@Screen>
    sidebar: None

    BoxLayout:
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        orientation: "vertical"
        spacing: "10dp"
        padding: [10, 0, 10, 0]

        ScrollView:
            BoxLayout:
                orientation: 'vertical'

                MDLabel:
                    id: title_label
                    bold: True
                    padding: 10, 20
                    font_size: '25sp'
                    size_hint_y:  None
                    size: self.texture_size

                MDLabel:
                    id: text_label
                    padding: 10, 0
                    size_hint_y:  None
                    size: self.texture_size

                BoxLayout:
                    size_hint_y: 2

        MDRaisedButton:
            text: 'Назад'
            on_press:
                root.sidebar.ids.sidebar_manager.current = 'news'
                root.sidebar.ids.toolbar.title = 'Новости'


<NewsPopup>
    auto_dismiss: False
    background: '/data/pics/white.png'
    title_color: (0, 0, 0, 1)
    size_hint: (.8, .8)

    BoxLayout:
        orientation: "vertical"
        spacing: "10dp"
        padding: [0, 10, 0, 0]

        ScrollView:

            MDLabel:
                id: popup_label
                size_hint_y:  None
                size: self.texture_size

        MDRaisedButton:
            text: 'Назад'
            on_press: root.dismiss()


<NewsCard>
    orientation: "vertical"
    size_hint_y: None
    padding: [0, 10, 0, 10]
    spacing: "10dp"
    sidebar: None
    on_touch_down: self.show_full() if self.collide_point(*args[1].pos) else None

    Image:
        id: news_image

    MDSeparator:
        id: image_separator
        height: "1dp"

    MDLabel:
        id: news_title
        theme_text_color: "Primary"
        size_hint_y: None
        padding: [0, 15]

    MDSeparator:
        height: "1dp"

    MDLabel:
        id: news_text
        padding: [0, 15]
        size_hint_y: None


<NewsScreen>:
    sidebar: None

    BoxLayout:
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size

        ScrollView:
            size_hint: 1, 1
            do_scroll_x: False

            MDList:
                id: news_grid
                cols: 1
                spacing: dp(5)
                padding: dp(5)
                size_hint_y: None
                height: self.minimum_height

